<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Star Type Classifier</title>
    <style>
        :root {
            --primary: #7fffd4;
            --secondary: #4fd1ff;
            --accent: #ffdd57;
            --bg-dark: #020617;
            --card-bg: rgba(15, 23, 42, 0.92);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: "Segoe UI", Arial, sans-serif;
            color: #e5e7eb;
            padding: 20px;
            background-color: var(--bg-dark);
            background-image: url("/static/giant-stars-4k-space-q03wbnsie2ul47hh.jpg");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            overflow-y: auto; /* allow vertical scroll */
        }

        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(148,163,184,0.2) 0, transparent 55%);
            mix-blend-mode: screen;
            opacity: 0.45;
            pointer-events: none;
            animation: drift 30s linear infinite alternate;
        }

        @keyframes drift {
            from { transform: translate3d(0, 0, 0); }
            to   { transform: translate3d(-30px, -40px, 0); }
        }

        .shell {
            width: 100%;
            max-width: 900px;
            position: relative;
            z-index: 1;
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 8px 14px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.92);
            border: 1px solid rgba(148, 163, 184, 0.45);
            backdrop-filter: blur(14px);
            box-shadow: 0 0 18px rgba(15, 23, 42, 0.8);
        }

        .nav-title {
            font-size: 0.95rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--primary);
        }

        .nav-links a {
            font-size: 0.85rem;
            color: #cbd5f5;
            text-decoration: none;
            margin-left: 14px;
            padding-bottom: 2px;
            border-bottom: 2px solid transparent;
            transition: color 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
        }

        .nav-links a:hover {
            color: var(--accent);
            border-color: var(--accent);
            transform: translateY(-1px);
        }

        .nav-links a.active {
            color: var(--secondary);
            border-color: var(--secondary);
        }

        .container {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 26px 24px 22px;
            box-shadow:
                0 0 25px rgba(15, 23, 42, 0.9),
                0 0 60px rgba(56, 189, 248, 0.25);
            backdrop-filter: blur(14px);
            border: 1px solid rgba(148, 163, 184, 0.4);
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: "";
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            background: conic-gradient(
                from 180deg,
                rgba(56,189,248,0.0),
                rgba(56,189,248,0.8),
                rgba(129,140,248,0.8),
                rgba(56,189,248,0.0)
            );
            opacity: 0.35;
            filter: blur(6px);
            z-index: -1;
            animation: rotateGlow 18s linear infinite;
        }

        @keyframes rotateGlow {
            to { transform: rotate(360deg); }
        }

        h1 {
            text-align: center;
            margin: 0 0 8px;
            font-size: 1.9rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--primary);
            text-shadow: 0 0 12px rgba(34,197,235,0.75);
        }

        .subtitle {
            text-align: center;
            font-size: 0.9rem;
            color: #9ca3af;
            margin-bottom: 18px;
        }

        .intro {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #d1d5db;
            background: rgba(15, 23, 42, 0.8);
            padding: 12px 14px;
            border-radius: 10px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            margin-bottom: 18px;
        }

        .intro strong {
            color: var(--accent);
        }

        form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px 18px;
            margin-bottom: 14px;
        }

        .field {
            display: flex;
            flex-direction: column;
            font-size: 0.85rem;
        }

        label {
            margin-bottom: 4px;
            color: #cbd5f5;
        }

        input {
            border-radius: 8px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            padding: 7px 9px;
            background: rgba(15, 23, 42, 0.9);
            color: #e5e7eb;
            font-size: 0.9rem;
        }

        input:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.6);
        }

        .actions {
            grid-column: 1 / -1;
            display: flex;
            justify-content: center;
            margin-top: 4px;
        }

        button {
            border: none;
            border-radius: 999px;
            padding: 9px 26px;
            cursor: pointer;
            font-weight: 600;
            letter-spacing: 0.06em;
            text-transform: uppercase;
            font-size: 0.85rem;
            color: #0f172a;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            box-shadow:
                0 0 18px rgba(56,189,248,0.6),
                0 0 6px rgba(15,23,42,0.9);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow:
                0 0 24px rgba(56,189,248,0.8),
                0 4px 12px rgba(15,23,42,0.9);
        }

        .result {
            margin-top: 8px;
            padding: 10px 12px;
            background-color: rgba(15, 23, 42, 0.95);
            border-radius: 10px;
            border: 1px solid rgba(56, 189, 248, 0.5);
            min-height: 40px;
            font-size: 0.9rem;
            white-space: pre-line;
        }

        .result.highlight {
            animation: pulseGlow 1.2s ease-out;
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 0 rgba(56,189,248,0.0); }
            50% { box-shadow: 0 0 18px rgba(56,189,248,0.9); }
            100% { box-shadow: 0 0 6px rgba(56,189,248,0.4); }
        }

        .error {
            color: #fed7d7;
            border-color: #f97373;
        }

        @media (max-width: 640px) {
            .container {
                padding: 20px 16px 16px;
            }
            form {
                grid-template-columns: 1fr;
            }
            .nav {
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
            }
        }
    .page-wrapper {
    max-width: 900px;
    margin: 0 auto;
    }
    </style>
</head>
<body>
    <div class="page-wrapper">

        <div class="shell">
            <nav class="nav">
            <div class="nav-title">Star Classifier</div>
            <div class="nav-links">
                <a href="/">Predict</a>
                <a href="/model">Model & Features</a>
                <a href="/stars">Stars & Types</a>
                <a href="/exoplanet" class="active">Exoplanet Mass</a>
                <a href="/exoplanet_mass_info">Exoplanet Mass Info</a>
                <a href="/exoplanet_model_info">Exoplanet Model</a>
                <a href="/diagrams">Diagrams</a>
            </div>
        </nav>

        <div class="container">
            <h1>Exoplanet Mass Regression</h1>
            <div class="subtitle">Linear regression on exoplanet catalog</div>

            <div class="intro">
                This page uses a <strong>linear regression model</strong> trained on an exoplanet catalog
                to estimate a planet’s mass multiplier from its orbital and stellar properties. The target
                value is the <strong>mass multiplier</strong>, which expresses the planet’s mass relative
                to either Earth or Jupiter. The input features are distance to the system, stellar magnitude,
                orbital radius, orbital period, eccentricity, and discovery year. The model learns how these
                quantities correlate with planet mass across thousands of known exoplanets. [file:93][web:18]
            </div>

            <form id="exo-form">
                <div class="field">
                    <label for="distance">Distance (ly)</label>
                    <input type="number" id="distance" step="0.01" required>
                </div>

                <div class="field">
                    <label for="stellar_magnitude">Stellar magnitude</label>
                    <input type="number" id="stellar_magnitude" step="0.001" required>
                </div>

                <div class="field">
                    <label for="orbital_radius">Orbital radius</label>
                    <input type="number" id="orbital_radius" step="0.000001" required>
                </div>

                <div class="field">
                    <label for="orbital_period">Orbital period</label>
                    <input type="number" id="orbital_period" step="0.000001" required>
                </div>

                <div class="field">
                    <label for="eccentricity">Eccentricity</label>
                    <input type="number" id="eccentricity" step="0.001" required>
                </div>

                <div class="field">
                    <label for="discovery_year">Discovery year</label>
                    <input type="number" id="discovery_year" step="1" required>
                </div>

                <div class="actions">
                    <button type="submit">Predict Mass</button>
                </div>
            </form>

            <div id="exo-result" class="result"></div>

            <div class="intro" style="margin-top:14px;">
                The regression performance is summarized by the <strong>MAE</strong> (mean absolute error),
                <strong>RMSE</strong> (root mean squared error), and <strong>R²</strong> (coefficient of determination).
                MAE and RMSE quantify the average difference between predicted and true mass multipliers, while R²
                indicates how much of the variance in the data is explained by the model. In addition to the numeric
                metrics, two diagrams were generated during training: a true‑vs‑predicted scatter plot and a residual
                plot, which help visually evaluate whether the model is systematically over‑ or under‑estimating
                masses for certain ranges of exoplanet properties. [web:74][web:81]
            </div>
        </div>
    </div>
</div>

    <script>
        const exoForm = document.getElementById('exo-form');
        const exoResult = document.getElementById('exo-result');

        exoForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            exoResult.textContent = "Predicting...";
            exoResult.classList.remove('error', 'highlight');

            const payload = {
                distance: parseFloat(document.getElementById('distance').value),
                stellar_magnitude: parseFloat(document.getElementById('stellar_magnitude').value),
                orbital_radius: parseFloat(document.getElementById('orbital_radius').value),
                orbital_period: parseFloat(document.getElementById('orbital_period').value),
                eccentricity: parseFloat(document.getElementById('eccentricity').value),
                discovery_year: parseFloat(document.getElementById('discovery_year').value)
            };

            try {
                const response = await fetch('/predict_exoplanet', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errData = await response.json();
                    exoResult.textContent = "Error: " + (errData.error || response.statusText);
                    exoResult.classList.add('error');
                    return;
                }

                const data = await response.json();
                let text = `Predicted mass multiplier: ${data.predicted_mass_multiplier.toFixed(3)}`;

                if (data.metrics) {
                    text += `\nMAE: ${data.metrics.mae.toFixed(3)}`;
                    text += `\nRMSE: ${data.metrics.rmse.toFixed(3)}`;
                    text += `\nR²: ${data.metrics.r2.toFixed(3)}`;
                }

                exoResult.textContent = text;
                exoResult.classList.add('highlight');
            } catch (error) {
                exoResult.textContent = "Error: " + error.message;
                exoResult.classList.add('error');
            }
        });
    </script>
</body>
</html>
